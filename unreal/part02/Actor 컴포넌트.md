# C++ 액터에서 컴포넌트의 생성

## 컴포넌트 정의
- 컴포넌트는 언리얼 오브젝트이므로 `UPROPERTY`를 설정하고 `TObjectPtr`로 포인터를 선언한다.
  - 언리얼 5버전부터 헤더에 언리얼 오브젝트를 선언할 때 일반 포인터에서 `TObjectPtr`로 변경.

## 컴포넌트의 등록
- CDO에서 생성한 컴포넌트는 자동으로 월드에 등록된다.
- `NewObject`로 생성한 컴포넌트는 반드시 등록 절차를 거쳐야 한다. (예: `RegisterComponent`)
- 등록된 컴포넌트는 월드의 기능을 사용할 수 있으며, 물리와 렌더링 처리에 합류한다.

## 컴포넌트의 확장 설계
- 에디터 편집 및 블루프린트로의 승계를 위한 설정.
- `UPROPERTY`에 지정자(Specifier)를 설정할 수 있다.

## 컴포넌트 지정자
- `Visible` / `Edit`: 크게 객체 타입과 값 타입으로 사용.
- `Anywhere` / `DefaultsOnly` / `InstanceOnly`: 에디터에서 편집 가능 영역.
- `BlueprintReadOnly` / `BlueprintReadWrite`: 블루프린트로 확장 시 읽기 혹은 읽기/쓰기 권한 부여.
- `Category`: 에디터 편집 영역(Detail)에서의 카테고리 지정.

---

## CDO란? (Class Default Object)
CDO(Class Default Object)는 언리얼 엔진에서 각 클래스의 기본값을 저장하는 오브젝트를 의미합니다.  
CDO는 클래스의 기본 상태를 나타내며, 다음과 같은 역할을 합니다:
1. **기본값 저장**: 모든 인스턴스가 공유할 초기 값을 설정합니다.
2. **메모리 최적화**: 각 객체가 별도의 초기 값을 가지지 않고 CDO를 참조하여 메모리를 절약합니다.
3. **월드 등록**: CDO를 통해 자동으로 월드에 컴포넌트가 등록됩니다.

CDO는 언리얼 엔진에서 객체 생성과 관리를 효율적으로 하기 위한 중요한 개념입니다.



![[Pasted image 20250217224214.png|500]]
defaultSceneRoot  :  Root  컴포넌트를 위치시키기 위해서 임시로 만든 기능이 없는 컴포넌트로 대체시켜줘야한다